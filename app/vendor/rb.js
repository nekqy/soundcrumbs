var rb=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,r;i=[n(1),n(2),n(6)],r=function(t,e,n){"use strict";return Object.create(null,{Screen:{value:t},start:{value:e.initLayout},remove:{value:e.remove},Instances:{value:{}},Batch:{value:e.Batch},IPlugin:{value:n}})}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[],r=function(){"use strict";function t(e,n,i){t._mainScreenSetted||(t._mainScreen=this),this.html=e,this._parents=[],this._next=null,this._prev=null,this._id="screen_"+t._length++,this._temporary=!i,this.setChildren(n)}return t.prototype.toString=function(){return this._id},t.prototype.isTemporary=function(){return this._temporary},t.prototype.setChildren=function(e){if(e&&Array.isArray(e)){this._children=[];for(var n=0;n<e.length;n++)this.addChild(e[n])}else this._children=[];return t._runRelativeUpdateFn(this),this},t.prototype.getChildren=function(){return this._children},t.prototype.addChild=function(e){var n=this._children;return e._parents.push(this),n.length>t._doCyclic&&(e._next=n.length?n[0]:e,e._prev=n.length?n[n.length-1]:e,e._next._prev=e,e._prev._next=e),n.push(e),t._runRelativeUpdateFn(this),this},t.prototype.removeChild=function(e){var n,i=this._children,r=i.indexOf(e);return r!==-1&&(n=i.splice(r,1)[0],n._prev===n._next?remove._prev=remove._next=null:(n._prev._next=n._next,n._next._prev=n._prev)),t._runRelativeUpdateFn(this),this},t.prototype.doChildrenCyclic=function(t){this._children.length>0&&(t&&this._children.length>1?(this._children[0]._prev=this._children[this._children.length-1],this._children[this._children.length-1]._next=this._children[0]):(this._children[0]._prev=null,this._children[this._children.length-1]._next=null))},t._length=1,t._relativeUpdateFn=[],t.setMainScreen=function(e){t._mainScreen=e,t._mainScreenSetted=!0},t.getMainScreen=function(){return t._mainScreen},t.registerRelativeUpdateFn=function(e){t._relativeUpdateFn.push(e)},t.unregisterRelativeUpdateFn=function(e){t._relativeUpdateFn=t._relativeUpdateFn.filter(function(t){return t!==e})},t.clearRelativeUpdateFn=function(){t._relativeUpdateFn=[]},t._runRelativeUpdateFn=function(e){t._relativeUpdateFn.forEach(function(t){t.call(void 0,e)})},t._doCyclic=0,t.doCyclic=function(e){t._doCyclic=e?0:1},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(1),n(3)],r=function(t,e){"use strict";function n(t,n){"function"==typeof t&&(n=t,t=void 0),$(function(){for(var i=$(".rb-wrapper"),r=[],o=0;o<i.length;o++){var s=i.eq(o),a=s.data("id")||s.attr("id")||"instance_"+o;if(void 0===rb.Instances[a]){s.html('<div class="rb"><div tabindex="-1" class="rb__fake-element"></div></div>');var c=s.find(".rb"),u=new e(c,t&&t[a]);r.push(u._loadingPromise),Object.defineProperty(rb.Instances,a,{value:u,configurable:!0,enumerable:!0})}}Promise.all(r).then(function(){n&&n(rb.Instances)})})}function i(t,e){var n=[];for(var i in rb.Instances)if(rb.Instances.hasOwnProperty(i)){var r=rb.Instances[i];n.push(r[t].apply(r,e))}return n}function r(){i("configure",arguments)}function o(){return Promise.all(i("move",arguments))}function s(){return i("moveBack",arguments)}function a(){return Promise.all(i("animateWrongSide",arguments))}function c(){return Promise.all(i("setScreen",arguments))}function u(){i("reload",arguments)}function l(t){rb.Instances.hasOwnProperty(t)&&(rb.Instances[t].destroy(),delete rb.Instances[t])}function h(){for(var t in rb.Instances)l(t)}return{initLayout:n,remove:l,Batch:{configure:r,move:o,moveBack:s,animateWrongSide:a,setScreen:c,reload:u,removeAll:h}}}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(6),n(1),n(8),n(10),n(11),n(12),n(4),n(13),n(14),n(15),n(5)],r=function(t,e,n,i,r,o,s,a,c,u,l){"use strict";function h(t,h){if(!(t instanceof $))throw new Error("Moving module - init - wrong mainDiv arg: "+t);this._mainDiv=t,this.beforeMoveDispatcher=new r(t),this.beforeRenderDispatcher=new r(t),this.afterRenderDispatcher=new r(t),this._screenManager=new i,this._elementsPool=new u(t,this._screenManager),this._animation=new n(t,this._elementsPool),this._controlManager=new o,l.isMobile?this._controlManager.add("swipes",new s(t,this._moveByActionValue.bind(this)),!0):this._controlManager.add("arrows",new a(t,this._moveByActionValue.bind(this),this.afterRenderDispatcher),!0).add("keyboard",new c(t,this._moveByActionValue.bind(this)),!0),this._plugins=[],this._loadingPromise=this.setScreen(h||e.getMainScreen(),!1),this.resetConfig();var p=this;this._clickHandler=function(t){$(t.target).closest(".rb").length&&!$(document.activeElement).closest(".rb").length&&p.activate()},t.on("click",this._clickHandler)}var p=["center","left","top","right","bottom"];return h.prototype.resetConfig=function(){this.configure({wrongTime1:500,wrongTime2:500,correctTime:1e3,wrongEasing1:"easeInExpo",wrongEasing2:"easeOutElastic",correctEasing:"easeOutExpo",hideTime:2e3,loadingHtml:'<div class="rb__loading_wrapper"><div class="cssload-loader"></div></div>',leftKey:[37,"a"],topKey:[38,"w"],rightKey:[39,"d"],bottomKey:[40,"s"],maxHistoryLength:10,lockControls:!1,showAdjacentScreens:!0,saveHistoryInPool:!1,pointersForSwipe:1,isDirectPath:!0})},h.prototype.configure=function(t){t&&(this._plugins.forEach(function(e){e.configure(t)}),this._animation.configure(t),this._elementsPool.configure(t),this._screenManager.configure(t),this._controlManager.configure(t),t.loadingDiv=t.loadingHtml?'<div class="rb__loading">'+t.loadingHtml+"</div>":null,this.beforeMoveDispatcher.configure(t),this.beforeRenderDispatcher.configure(t),this.afterRenderDispatcher.configure(t),"object"==typeof t&&void 0!==t.lockControls&&(this._lockControls=t.lockControls))},h.prototype.getControlManager=function(){return this._controlManager},h.prototype.move=function(t,e,n){var i=this;if(t)return Promise.race([this.beforeMoveDispatcher._runActions(i._moveInner.bind(i,t,e,n),[t,i._screenManager.getCurScreen(),i])])},h.prototype._moveInner=function(t,e,n){var i=this;return this._lockControls&&!this._locks&&(this._locks=this._controlManager.disableAll()),this._screenManager.updateScreens("center",e,n),new Promise(function(e,r){i._screenManager.getRelativeScreen(t)?"center"===t?(i._elementsPool.prepareSide(t),i._animation.goToCenter(),i._renderHtml(t,e.bind(void 0,{how:"center",isOk:!0}))):p.indexOf(t)!==-1?(i._screenManager.updateScreens(t,void 0,n),i._elementsPool.prepareSide(),i._animation.goToCorrectSide(t).then(function(n){n&&i._renderHtml(t,e.bind(void 0,{how:"correctSide",isOk:n}))})):r(new Error("Moving module - move - wrong side arg: "+t)):i._animation.goToWrongSide(t).then(function(n){n&&i._renderHtml(t,e.bind(void 0,{how:"wrongSide",isOk:n}))})})},h.prototype._moveByActionValue=function(t,e,n){function i(t,e){var i;return Array.isArray(e)?(i=e.find(function(e){return n(t,e)}),i=void 0!==i):i=n(t,e),i}var r;return i(t,e[0])?r="left":i(t,e[1])?r="top":i(t,e[2])?r="right":i(t,e[3])&&(r="bottom"),this.move(r)},h.prototype.moveBack=function(){var t=this._screenManager.popHistory();return!!t&&(this.move(t.side,t.screen,!1),!0)},h.prototype.animateWrongSide=function(t){return this._animation.goToWrongSide(t)},h.prototype.setScreen=function(t,e){return this.move("center",t,e)},h.prototype.reload=function(t){t=t||"center";var e=this._elementsPool.getElementBySide(t),n=this._screenManager.getRelativeScreen(t);e.html(n.html)},h.prototype._renderHtml=function(t,e){function n(){i.activate(),i.afterRenderDispatcher._runActions(l.nop,r),i._lockControls&&(i._controlManager.enableByValues(i._locks),i._locks=null),e()}var i=this,r=[t,i._screenManager.getCurScreen(),i];this.beforeRenderDispatcher._runActions(function(){var t,e,r=0;e=i._mainDiv.find("iframe"),i._elementsPool.loadElements(),e=i._mainDiv.find("iframe").not(e),t=e.length,e.one("load",function(){r++,t===r&&n()}),setTimeout(function(){0===t&&n()},0)},r)},h.prototype.activate=function(){this._mainDiv.find(".rb__fake-element").focus()},h.prototype.goToScreen=function(t){function e(t,r){return new Promise(function(o,s){if(r>=t.length-1)return n._controlManager.enableByValues(i),void o();var a,c=t[r],u=t[r+1];if(c._children.indexOf(u)!==-1)a="right";else if(c._parents.indexOf(u)!==-1)a="left";else if(c._next===u)a="bottom";else{if(c._prev!==u)throw new Error("goToScreen : side not found");a="top"}n._screenManager._setRelativeScreen(n._screenManager.getCurScreen(),a,u),n.afterRenderDispatcher.add(function(){n.afterRenderDispatcher.add(function(){e(t,r+1)},!0);n.move(a);r===t.length-2&&console.log("test: ",r,t.length-2)},!0),n.setScreen(c,!1)})}console.log("fromto",this._screenManager.getCurScreen(),t);var n=this,i=this._controlManager.disableAll(),r=this._screenManager.findShortestPath(this._screenManager.getCurScreen(),t);return console.log(r),e(r,0)},h.prototype.addPlugin=function(e){e instanceof t?this._plugins.push(e):console.error("Moving - addPlugin - argument must be IPlugin")},h.prototype.removePlugin=function(t){var e=this._plugins.indexOf(t);e!=-1&&(t.destroy(),this._plugins.splice(e,1))},h.prototype.destroy=function(){this._plugins.forEach(function(t){t.destroy()}),this.beforeMoveDispatcher.destroy(),this.beforeRenderDispatcher.destroy(),this.afterRenderDispatcher.destroy(),this._animation.destroy(),this._controlManager.destroy(),this._screenManager.destroy(),this._elementsPool.destroy(),this._animation=null,this._elementsPool=null,this._screenManager=null,this._controlManager=null,this.beforeMoveDispatcher=null,this.beforeRenderDispatcher=null,this.afterRenderDispatcher=null,this._mainDiv.off("click",this._clickHandler),this._mainDiv.remove()},h}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(5),n(6),n(7)],r=function(t,e,n){"use strict";function i(t,e){if(!(t instanceof $))throw new Error("KeydownControl module - init - wrong mainDiv arg: "+t);if("function"!=typeof e)throw new Error("KeydownControl module - init - wrong actionFn arg: "+e);this._isEnable=!1,this._mainDiv=t,this._actionFn=e,this._hammertime=new n(t[0]),this._hammertime.get("swipe").set({direction:n.DIRECTION_ALL})}return t.inherite(i,e),i.prototype.configure=function(t){"object"==typeof t&&void 0!==t.pointersForSwipe&&this._hammertime.get("swipe").set({pointers:t.pointersForSwipe})},i.prototype.isEnable=function(){return this._isEnable},i.prototype.enable=function(){function t(t){e._actionFn(t.direction,[n.DIRECTION_RIGHT,n.DIRECTION_DOWN,n.DIRECTION_LEFT,n.DIRECTION_UP],function(t,e){return t===e}),t.preventDefault()}if(!this._isEnable){var e=this;this._hammertime.on("swipe",t),this._swipeHandler=t,this._isEnable=!0}},i.prototype.disable=function(){this._isEnable&&(this._hammertime.off("swipe",this._swipeHandler),this._swipeHandler=null,this._isEnable=!1)},i.prototype.destroy=function(){this.disable()},i}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[],r=function(){"use strict";function t(t){if("left"===t)return"right";if("right"===t)return"left";if("top"===t)return"bottom";if("bottom"===t)return"top";if("center"===t)return"center";throw new Error("move function","wrong side")}function e(t){if("left"===t)return"left";if("right"===t)return"left";if("top"===t)return"top";if("bottom"===t)return"top";if("center"===t)return"center";throw new Error("move function","wrong side")}function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.prototype[n]=e[n])}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function o(){var t=!1;return function(e){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t}return{oppositeSide:t,getStartSide:e,capitalizeFirstLetter:n,nop:function(){},setMixin:i,inherite:r,isMobile:o()}}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(5)],r=function(t){"use strict";function e(){}return e.prototype.configure=function(){throw new Error("Configure function not realized")},e.prototype.destroy=function(){throw new Error("Destroy function not realized")},e.inherite=function(n){t.inherite(n,e)},e}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i;/*! Hammer.JS - v2.0.8 - 2016-04-23
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(r,o,s,a){"use strict";function c(t,e,n){return setTimeout(f(t,n),e)}function u(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}function p(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&vt(i,n)}function f(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==mt?t.apply(e?e[0]||a:a,e):t}function v(t,e){return t===a?e:t}function _(t,e,n){l(b(e),function(e){t.addEventListener(e,n,!1)})}function g(t,e,n){l(b(e),function(e){t.removeEventListener(e,n,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function w(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function S(t){return Array.prototype.slice.call(t,0)}function E(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];w(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function T(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<_t.length;){if(n=_t[o],i=n?n+r:e,i in t)return i;o++}return a}function M(){return Tt++}function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function C(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function x(t){var e,n=t.options.inputClass;return new(e=n?n:Ct?U:xt?X:It?W:K)(t,P)}function P(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Rt&&i-r===0,s=e&(Ft|Bt)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,D(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function D(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=k(e)),r>1&&!n.firstMultiple?n.firstMultiple=k(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=e.center=R(i);e.timeStamp=wt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=j(a,c),e.distance=B(a,c),O(n,e),e.offsetDirection=F(e.deltaX,e.deltaY);var u=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=bt(u.x)>bt(u.y)?u.x:u.y,e.scale=s?N(s.pointers,i):1,e.rotation=s?z(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,A(n,e);var l=t.element;m(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function O(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Rt&&o.eventType!==Ft||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function A(t,e){var n,i,r,o,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=Bt&&(c>kt||s.velocity===a)){var u=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=H(c,u,l);i=h.x,r=h.y,n=bt(h.x)>bt(h.y)?h.x:h.y,o=F(u,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function k(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:yt(t.pointers[n].clientX),clientY:yt(t.pointers[n].clientY)},n++;return{timeStamp:wt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:yt(t[0].clientX),y:yt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:yt(n/e),y:yt(i/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function F(t,e){return t===e?jt:bt(t)>=bt(e)?t<0?zt:Nt:e<0?Kt:Ut}function B(t,e,n){n||(n=Yt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function j(t,e,n){n||(n=Yt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function z(t,e){return j(e[1],e[0],Wt)+j(t[1],t[0],Wt)}function N(t,e){return B(e[0],e[1],Wt)/B(t[0],t[1],Wt)}function K(){this.evEl=$t,this.evWin=Vt,this.pressed=!1,C.apply(this,arguments)}function U(){this.evEl=Jt,this.evWin=te,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function L(){this.evTarget=ne,this.evWin=ie,this.started=!1,C.apply(this,arguments)}function q(t,e){var n=S(t.touches),i=S(t.changedTouches);return e&(Ft|Bt)&&(n=E(n.concat(i),"identifier",!0)),[n,i]}function X(){this.evTarget=oe,this.targetIds={},C.apply(this,arguments)}function Y(t,e){var n=S(t.touches),i=this.targetIds;if(e&(Rt|Ht)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=S(t.changedTouches),a=[],c=this.target;if(o=n.filter(function(t){return m(t.target,c)}),e===Rt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Ft|Bt)&&delete i[s[r].identifier],r++;return a.length?[E(o.concat(a),"identifier",!0),a]:void 0}function W(){C.apply(this,arguments);var t=f(this.handler,this);this.touch=new X(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Q(t,e){t&Rt?(this.primaryTouch=e.changedPointers[0].identifier,$.call(this,e)):t&(Ft|Bt)&&$.call(this,e)}function $(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,se)}}function V(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=ae&&s<=ae)return!0}return!1}function G(t,e){this.manager=t,this.set(e)}function Z(t){if(y(t,fe))return fe;var e=y(t,de),n=y(t,ve);return e&&n?fe:e||n?e?de:ve:y(t,pe)?pe:he}function J(){if(!ue)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=M(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ge,this.simultaneous={},this.requireFail=[]}function et(t){return t&Se?"cancel":t&be?"end":t&ye?"move":t&me?"start":""}function nt(t){return t==Ut?"down":t==Kt?"up":t==zt?"left":t==Nt?"right":""}function it(t,e){var n=e.manager;return n?n.get(t):t}function rt(){tt.apply(this,arguments)}function ot(){rt.apply(this,arguments),this.pX=null,this.pY=null}function st(){rt.apply(this,arguments)}function at(){tt.apply(this,arguments),this._timer=null,this._input=null}function ct(){rt.apply(this,arguments)}function ut(){rt.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ht(t,e){return e=e||{},e.recognizers=v(e.recognizers,ht.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ht.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=x(this),this.touchAction=new G(this,this.options.touchAction),ft(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var n=t.element;if(n.style){var i;l(t.options.cssProps,function(r,o){i=T(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,_t=["","webkit","Moz","MS","ms","o"],gt=o.createElement("div"),mt="function",yt=Math.round,bt=Math.abs,wt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var St=h(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),Et=h(function(t,e){return St(t,e,!0)},"merge","Use `assign`."),Tt=1,Mt=/mobile|tablet|ip(ad|hone|od)|android/i,It="ontouchstart"in r,Ct=T(r,"PointerEvent")!==a,xt=It&&Mt.test(navigator.userAgent),Pt="touch",Dt="pen",Ot="mouse",At="kinect",kt=25,Rt=1,Ht=2,Ft=4,Bt=8,jt=1,zt=2,Nt=4,Kt=8,Ut=16,Lt=zt|Nt,qt=Kt|Ut,Xt=Lt|qt,Yt=["x","y"],Wt=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(I(this.element),this.evWin,this.domHandler)}};var Qt={mousedown:Rt,mousemove:Ht,mouseup:Ft},$t="mousedown",Vt="mousemove mouseup";p(K,C,{handler:function(t){var e=Qt[t.type];e&Rt&&0===t.button&&(this.pressed=!0),e&Ht&&1!==t.which&&(e=Ft),this.pressed&&(e&Ft&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ot,srcEvent:t}))}});var Gt={pointerdown:Rt,pointermove:Ht,pointerup:Ft,pointercancel:Bt,pointerout:Bt},Zt={2:Pt,3:Dt,4:Ot,5:At},Jt="pointerdown",te="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Jt="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(U,C,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Gt[i],o=Zt[t.pointerType]||t.pointerType,s=o==Pt,a=w(e,t.pointerId,"pointerId");r&Rt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(Ft|Bt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var ee={touchstart:Rt,touchmove:Ht,touchend:Ft,touchcancel:Bt},ne="touchstart",ie="touchstart touchmove touchend touchcancel";p(L,C,{handler:function(t){var e=ee[t.type];if(e===Rt&&(this.started=!0),this.started){var n=q.call(this,t,e);e&(Ft|Bt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Pt,srcEvent:t})}}});var re={touchstart:Rt,touchmove:Ht,touchend:Ft,touchcancel:Bt},oe="touchstart touchmove touchend touchcancel";p(X,C,{handler:function(t){var e=re[t.type],n=Y.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Pt,srcEvent:t})}});var se=2500,ae=25;p(W,C,{handler:function(t,e,n){var i=n.pointerType==Pt,r=n.pointerType==Ot;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Q.call(this,e,n);else if(r&&V.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ce=T(gt.style,"touchAction"),ue=ce!==a,le="compute",he="auto",pe="manipulation",fe="none",de="pan-x",ve="pan-y",_e=J();G.prototype={set:function(t){t==le&&(t=this.compute()),ue&&this.manager.element.style&&_e[t]&&(this.manager.element.style[ce]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=y(i,fe)&&!_e[fe],o=y(i,ve)&&!_e[ve],s=y(i,de)&&!_e[de];if(r){var a=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(a&&c&&u)return}return s&&o?void 0:r||o&&n&Lt||s&&n&qt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ge=1,me=2,ye=4,be=8,we=be,Se=16,Ee=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=it(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=it(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return t=it(t,this),w(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=it(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<be&&e(n.options.event+et(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=be&&e(n.options.event+et(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=Ee)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ee|ge)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return d(this.options.enable,[this,e])?(this.state&(we|Se|Ee)&&(this.state=ge),this.state=this.process(e),void(this.state&(me|ye|be|Se)&&this.tryEmit(e))):(this.reset(),void(this.state=Ee))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(rt,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(me|ye),r=this.attrTest(t);return i&&(n&Bt||!r)?e|Se:i||r?n&Ft?e|be:e&me?e|ye:me:Ee}}),p(ot,rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Xt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Lt&&e.push(ve),t&qt&&e.push(de),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Lt?(r=0===o?jt:o<0?zt:Nt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?jt:s<0?Kt:Ut,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return rt.prototype.attrTest.call(this,t)&&(this.state&me||!(this.state&me)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(st,rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&me)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(at,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[he]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Ft|Bt)&&!r)this.reset();else if(t.eventType&Rt)this.reset(),this._timer=c(function(){this.state=we,this.tryEmit()},e.time,this);else if(t.eventType&Ft)return we;return Ee},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===we&&(t&&t.eventType&Ft?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=wt(),this.manager.emit(this.options.event,this._input)))}}),p(ct,rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&me)}}),p(ut,rt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Lt|qt,pointers:1},getTouchAction:function(){return ot.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Lt|qt)?e=t.overallVelocity:n&Lt?e=t.overallVelocityX:n&qt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&Ft},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Rt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=Ft)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||B(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=c(function(){this.state=we,this.tryEmit()},e.interval,this),me):we}return Ee},failTimeout:function(){return this._timer=c(function(){this.state=Ee},this.options.interval,this),Ee},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==we&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ht.VERSION="2.0.8",ht.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ct,{enable:!1}],[st,{enable:!1},["rotate"]],[ut,{direction:Lt}],[ot,{direction:Lt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Te=1,Me=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Me:Te},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&we)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===Me||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(me|ye|be)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=w(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return l(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return l(b(t),function(t){e?n[t]&&n[t].splice(w(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ht,{INPUT_START:Rt,INPUT_MOVE:Ht,INPUT_END:Ft,INPUT_CANCEL:Bt,STATE_POSSIBLE:ge,STATE_BEGAN:me,STATE_CHANGED:ye,STATE_ENDED:be,STATE_RECOGNIZED:we,STATE_CANCELLED:Se,STATE_FAILED:Ee,DIRECTION_NONE:jt,DIRECTION_LEFT:zt,DIRECTION_RIGHT:Nt,DIRECTION_UP:Kt,DIRECTION_DOWN:Ut,DIRECTION_HORIZONTAL:Lt,DIRECTION_VERTICAL:qt,DIRECTION_ALL:Xt,Manager:pt,Input:C,TouchAction:G,TouchInput:X,MouseInput:K,PointerEventInput:U,TouchMouseInput:W,SingleTouchInput:L,Recognizer:tt,AttrRecognizer:rt,Tap:lt,Pan:ot,Swipe:ut,Pinch:st,Rotate:ct,Press:at,on:_,off:g,each:l,merge:Et,extend:St,assign:vt,inherit:p,bindFn:f,prefixed:T});var Ie="undefined"!=typeof r?r:"undefined"!=typeof self?self:{};Ie.Hammer=ht,i=function(){return ht}.call(e,n,e,t),!(i!==a&&(t.exports=i))}(window,document,"Hammer")},function(t,e,n){var i,r;i=[n(5),n(6),n(9)],r=function(t,e){"use strict";function n(t,e){if(this._elementsPool=e,!(t instanceof $))throw new Error("Animation module - init - wrong mainDiv arg: "+t);this._mainDiv=t}return t.inherite(n,e),n.prototype.configure=function(t){function e(t){if("number"==typeof t)return t>0?t:1;if(void 0===t)return 500;throw new Error("Animation module - configure - wrong time arg: "+t)}"object"==typeof t&&(void 0!==t.wrongTime1&&(this._wrongTime1=e(t.wrongTime1)),void 0!==t.wrongTime2&&(this._wrongTime2=e(t.wrongTime2)),void 0!==t.correctTime&&(this._correctTime=e(t.correctTime)),void 0!==t.wrongEasing1&&(this._wrongEasing1=t.wrongEasing1),void 0!==t.wrongEasing2&&(this._wrongEasing2=t.wrongEasing2),void 0!==t.correctEasing&&(this._correctEasing=t.correctEasing),void 0!==t.showAdjacentScreens&&(this._showAdjacentScreens=t.showAdjacentScreens))},n.prototype._animate=function(e,n,i,r,o,s,a){s&&s();var c,u={};u["margin"+t.capitalizeFirstLetter(t.getStartSide(n))]=i,c={duration:o,easing:r,queue:!1,done:a},e.animate(u,c)},n.prototype._updateState=function(t,e){this._isAnimate&&(this._isAnimate=!1,this._new&&this._new.stop(),this._old&&this._old.stop(!1,!0),this._cur&&this._cur.stop(),this._prev&&this._prev.stop(!1,!0),this._next&&this._next.stop(!1,!0),this._res(!1)),this._isAnimate=!0,this._old=e.oldElem,this._new=e.newElem,this._cur=e.curElem,this._prev=e.prevElem,this._next=e.nextElem,this._res=t},n.prototype.goToWrongSide=function(e){var n=this,i=this._mainDiv.width(),r=this._mainDiv.height(),o=this._elementsPool.getElementBySide("center"),s=this._elementsPool.getElementBySide(e),a=this._elementsPool.getElementBySide(t.oppositeSide(e));return new Promise(function(t,c){function u(t,i,r,o,s){n._animate(t,e,"+="+p,n._wrongEasing1,n._isAnimate?n._wrongTime1:10,function(){t.css({"margin-left":i,"margin-top":r}),o&&o()},function(){n._animate(t,e,"-="+p,n._wrongEasing2,n._isAnimate?n._wrongTime2:10,void 0,function(){s&&s()})})}n._updateState(t,{curElem:o,prevElem:a,nextElem:s});var l=i/10,h=r/10,p=0,f=0,d=0;"left"===e?(f=-i,p=-l):"right"===e?(f=i,p=l):"top"===e?(d=-r,p=-h):"bottom"===e&&(d=r,p=h),n._showAdjacentScreens&&(u(s,i+f,r+d,function(){s.toggleClass("rb__hiding-screen",!0)},function(){s.toggleClass("rb__hiding-screen",!1)},!0),u(a,i-f,r-d,function(){a.toggleClass("rb__hiding-screen",!0)},function(){s.toggleClass("rb__hiding-screen",!1)},!0)),u(o,i,r,void 0,function(){n._isAnimate=!1,n._res(!0)})})},n.prototype.goToCorrectSide=function(e){var n=this,i=this._elementsPool.getElementBySide("center"),r=this._elementsPool.getElementBySide(t.oppositeSide(e)),o=this._mainDiv.width(),s=this._mainDiv.height();return new Promise(function(t,a){function c(t,i,r,o,s){n._animate(t,e,"-="+u,n._correctEasing,n._correctTime,function(){t.css({"margin-left":i,"margin-top":r}),o&&o()},function(){s&&s()})}n._updateState(t,{oldElem:r,newElem:i});var u=0,l=0,h=0;"left"===e?(l=-o,u=-o):"right"===e?(l=o,u=o):"top"===e?(h=-s,u=-s):"bottom"===e&&(h=s,u=s),n._showAdjacentScreens&&c(r,o,s,function(){r.toggleClass("rb__hiding-screen",!0)},function(){r.toggleClass("rb__hiding-screen",!1)},!0),c(i,o+l,s+h,void 0,function(){n._isAnimate=!1,n._res(!0)})})},n.prototype.goToCenter=function(){var t=this._elementsPool.getElementBySide("center");t.css({"margin-left":t.width(),"margin-top":t.height()})},n.prototype.destroy=function(){this._new&&this._new.stop(),this._old&&this._old.stop(),this._cur&&this._cur.stop(),this._prev&&this._prev.stop(),this._next&&this._next.stop(),this._res&&this._res(!1)},n}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return jQuery.easing[jQuery.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(-Math.pow(2,-10*e/r)+1)+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s))+n},easeOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(s||(s=r*(.3*1.5)),a<Math.abs(i)){a=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/a);return e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s))+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*(e/=r)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*((e=e/r-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),(e/=r/2)<1?i/2*(e*e*(((o*=1.525)+1)*e-o))+n:i/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n},easeInBounce:function(t,e,n,i,r){return i-jQuery.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return e<r/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,r)+n:.5*jQuery.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}})},function(t,e,n){var i,r;i=[n(5),n(1),n(6)],r=function(t,e,n){"use strict";function i(){this._history=[],this._curScreen=void 0,this._relativeScreens={},this._relativeUpdateFn=this._updateRelativeScreen.bind(this),e.registerRelativeUpdateFn(this._relativeUpdateFn)}return t.inherite(i,n),i.prototype.configure=function(t){function e(t){return"number"==typeof t&&t>=0?t:10}"object"==typeof t&&(void 0!==t.maxHistoryLength&&(this._maxHistoryLength=e(t.maxHistoryLength)),void 0!==t.isDirectPath&&(this._isDirectPath=t.isDirectPath))},i.prototype.updateScreens=function(e,n,i){var r=!1;if(n)this._curScreen!==n&&(r=!0),this._curScreen=n;else if(this.getRelativeScreen(e)){var o=this._curScreen;this._curScreen=this.getRelativeScreen(e),o!==this._curScreen&&(this._setRelativeScreen(this._curScreen,t.oppositeSide(e),o),r=!0)}return r&&i!==!1&&(this._history.push({screen:this._curScreen,side:t.oppositeSide(e)}),this._history.length>this._maxHistoryLength&&this._history.shift()),this._curScreen},i.prototype._getRelativeScreenByScreen=function(t,n){if(!(t instanceof e))throw new Error("ScreenManager module - _getRelativeScreenByScreen - wrong baseScreen arg");if("left"!==n&&"top"!==n&&"right"!==n&&"bottom"!==n&&"center"!==n)throw new Error("ScreenManager module - _getRelativeScreenByScreen - wrong side arg: "+n);var i=t.toString();return this._relativeScreens[i]||(this._relativeScreens[i]={}),"center"===n?t:"left"===n?t._parents.length?this._relativeScreens[i].left||t._parents[0]:null:"top"===n?t._prev?this._relativeScreens[i].top||t._prev:null:"right"===n?t._children.length?this._relativeScreens[i].right||t._children[0]:null:"bottom"===n&&t._next?this._relativeScreens[i].bottom||t._next:null},i.prototype._setRelativeScreen=function(t,n,i){if("left"!==n&&"top"!==n&&"right"!==n&&"bottom"!==n)throw new Error("ScreenManager module - _setRelativeScreen - wrong side arg: "+n);if(!(t instanceof e))throw new Error("ScreenManager module - _setRelativeScreen - wrong baseScreen arg");if(!(i instanceof e))throw new Error("ScreenManager module - _setRelativeScreen - wrong screen arg");var r=t.toString();this._relativeScreens[r]||(this._relativeScreens[r]={}),this._relativeScreens[r][n]=i},i.prototype._updateRelativeScreen=function(t){if(!(t instanceof e))throw new Error("ScreenManager module - _updateRelativeScreen - wrong screen arg");var n=t.toString();this._relativeScreens[n]||(this._relativeScreens[n]={}),t._children.length||(this._relativeScreens[n].right=null),t._parents.length||(this._relativeScreens[n].left=null),t._next||(this._relativeScreens[n].bottom=null),t._prev||(this._relativeScreens[n].top=null)},i.prototype.getCurScreen=function(){return this._curScreen},i.prototype.getRelativeScreen=function(t){return this._getRelativeScreenByScreen(this._curScreen,t)},i.prototype.clearHistory=function(){this._history=[]},i.prototype.popHistory=function(){return this._history.pop()},i.prototype._containsHistory=function(t){return this._history.some(function(e){return e.screen===t})},i.prototype.findShortestPath=function(t,e){function n(t,e){var n,i={},o={0:[t]},s={},a=function(t,e){o[t]||(o[t]=[]),o[t].push(e)};for(i[t]=0;o&&(n=Object.keys(o)).length;){n.sort(function(t,e){return t-e});var c,u=n[0],l=o[u],h=l.shift(),p=+u;c=r._isDirectPath?h&&h._children.concat(h._parents).concat(h._next).concat(h._prev)||[]:h&&[r._getRelativeScreenByScreen(h,"left"),r._getRelativeScreenByScreen(h,"top"),r._getRelativeScreenByScreen(h,"right"),r._getRelativeScreenByScreen(h,"bottom")]||[],l.length||delete o[u];for(var f=0;f<c.length;f++){var d=c[f],v=p+1,_=i[d];(void 0===_||_>v)&&(i[d]=v,a(v,d),s[d]=h)}}return void 0===i[e]?null:s}function i(t,e){for(var n=[],i=e;i;)n.push(i),i=t[i];return n.reverse(),n}var r=this,o=n(t,e);return i(o,e)},i.prototype.destroy=function(){e.unregisterRelativeUpdateFn(this._relativeUpdateFn),this._history=null,this._curScreen=null,this._relativeScreens=null},i}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(5),n(6)],r=function(t,e){"use strict";function n(t){this._actions={},this._index=0,this._mainDiv=t}return t.inherite(n,e),n.prototype.configure=function(t){"object"==typeof t&&void 0!==t.loadingDiv&&(this._loadingDiv=$(t.loadingDiv))},n.prototype.add=function(t,e){return"function"==typeof t?(this._actions[this._index++]={action:t,once:e},this._index-1):null},n.prototype.remove=function(t){this._actions.hasOwnProperty(t)&&delete this._actions[t]},n.prototype._runActions=function(t,e){var n=[],i=[],r=this;return Object.keys(this._actions).length?(this._mainDiv.append(this._loadingDiv),
Object.keys(this._actions).map(function(t){var r=this._actions[t],o=r.action.apply(void 0,e);r.once&&delete this._actions[t],o instanceof Promise?n.push(o):i.push(o)}.bind(this)),Promise.all(n).then(function(e){r._loadingDiv.remove();var n=i.concat(e).every(function(t){return t!==!1});if(n)return t&&t()},function(e){r._loadingDiv.remove(),console.error(e);var n=i.every(function(t){return t!==!1});if(n)return t&&t()})):t&&t()},n.prototype.destroy=function(){this._actions=null},n}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[],r=function(){"use strict";function t(){this._controls={}}return t.prototype.add=function(t,e,n){return this._controls.hasOwnProperty(t)?console.log("ControlManager - add - control already exists: "+t):(this._controls[t]=e,n&&this.enable(t)),this},t.prototype.remove=function(t){return this._controls.hasOwnProperty(t)?delete this._controls[t]:console.log("ControlManager - remove - control not found: "+t),this},t.prototype.isEnable=function(t){return this._controls.hasOwnProperty(t)?this._controls[t].isEnable():(console.log("ControlManager - isEnable - control not found: "+t),this)},t.prototype.enable=function(t){return this._controls.hasOwnProperty(t)?this._controls[t].enable():console.log("ControlManager - enable - control not found: "+t),this},t.prototype.disable=function(t){return this._controls.hasOwnProperty(t)?this._controls[t].disable():console.log("ControlManager - disable - control not found: "+t),this},t.prototype._doAll=function(t){var e={};for(var n in this._controls)this._controls.hasOwnProperty(n)&&(e[n]=this.isEnable(n),t?this.enable(n):this.disable(n));return e},t.prototype.disableAll=function(){return this._doAll(!1)},t.prototype.enableAll=function(){return this._doAll(!0)},t.prototype.enableByValues=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]?this.enable(e):this.disable(e))},t.prototype.configure=function(t){for(var e in this._controls)this._controls.hasOwnProperty(e)&&this._controls[e].configure(t)},t.prototype.destroy=function(){this.disableAll(),this._controls=null},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(5),n(6)],r=function(t,e){"use strict";function n(t,e,n){if(!(t instanceof $))throw new Error("KeydownControl module - init - wrong mainDiv arg: "+t);if("function"!=typeof e)throw new Error("KeydownControl module - init - wrong actionFn arg: "+e);this._isEnable=!1,this._mainDiv=t,this._actionFn=e,this._afterRender=n}return t.inherite(n,e),n.prototype.configure=function(t){"object"==typeof t&&void 0!==t.hideTime&&(this._hideTime=t.hideTime)},n.prototype.isEnable=function(){return this._isEnable},n.prototype.enable=function(){if(!this._isEnable){var t=this,e=function(e){function n(t){var e=t.clientX,i=t.clientY;a<e&&e<u&&c<i&&i<l||(r.toggleClass("rb__arrow-none",!1),r.toggleClass("rb__arrow-cursor",!0),o.off("mousemove",n))}function i(){r.toggleClass("rb__arrow-none",!0),r.toggleClass("rb__arrow-cursor",!1),o.on("mousemove",n)}var r=$(e.currentTarget),o=$("body"),s=r.offset(),a=s.left,c=s.top,u=a+r.width(),l=c+r.height();r.length&&(r[0].hideArrowId=setTimeout(i,t._hideTime))},n=function(t){var e=$(t.currentTarget);clearTimeout(e[0].hideArrowId)},i=function(i){var r=$(i.currentTarget);n(i),t._afterRender.add(e.bind(void 0,i),!0),t._actionFn(r,["left","top","right","bottom"],function(t,e){return t.is(".rb__arrow-container_"+e)})};this._mainDiv.append($('<div class="rb__arrow-container rb__arrow-cursor rb__arrow-container_left"><div class="rb__arrow rb__arrow_left"></div></div><div class="rb__arrow-container rb__arrow-cursor rb__arrow-container_top"><div class="rb__arrow rb__arrow_top"></div></div><div class="rb__arrow-container rb__arrow-cursor rb__arrow-container_right"><div class="rb__arrow rb__arrow_right"></div></div><div class="rb__arrow-container rb__arrow-cursor rb__arrow-container_bottom"><div class="rb__arrow rb__arrow_bottom"></div>'));var r=this._mainDiv.find(".rb__arrow-container");r.on("click",i),r.on("mouseenter",e),r.on("mouseleave",n),this._clickHandler=i,this._mouseEnterHandler=e,this._mouseLeaveHandler=n,this._isEnable=!0}},n.prototype.disable=function(){if(this._isEnable){for(var t=this._mainDiv.find(".rb__arrow-container"),e=0;e<t.length;e++)clearTimeout(t[e].hideArrowId);t.off("click",this._clickHandler),t.off("mouseenter",this._mouseEnterHandler),t.off("mouseleave",this._mouseLeaveHandler),this._clickHandler=null,this._mouseEnterHandler=null,this._mouseLeaveHandler=null,this._mainDiv.find(".rb__arrow-container").remove(),this._isEnable=!1}},n.prototype.destroy=function(){this.disable()},n}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(5),n(6)],r=function(t,e){"use strict";function n(t,e){if(!(t instanceof $))throw new Error("KeydownControl module - init - wrong mainDiv arg: "+t);if("function"!=typeof e)throw new Error("KeydownControl module - init - wrong actionFn arg: "+e);this._isEnable=!1,this._mainDiv=t,this._actionFn=e}return t.inherite(n,e),n.prototype.configure=function(t){"object"==typeof t&&(void 0!==t.leftKey&&(this._leftKey=t.leftKey),void 0!==t.topKey&&(this._topKey=t.topKey),void 0!==t.rightKey&&(this._rightKey=t.rightKey),void 0!==t.bottomKey&&(this._bottomKey=t.bottomKey))},n.prototype.isEnable=function(){return this._isEnable},n.prototype.enable=function(){if(!this._isEnable){var t=this,e=function(e){t._actionFn(e.which,[t._leftKey,t._topKey,t._rightKey,t._bottomKey],function(t,e){return t===e}),t._actionFn(e.key,[t._leftKey,t._topKey,t._rightKey,t._bottomKey],function(t,e){return t===e})},n=function(t){e(t)};this._mainDiv.on("keydown",n),this._mainDivHandler=n,this._isEnable=!0}},n.prototype.disable=function(){this._isEnable&&(this._mainDiv.off("keydown",this._mainDivHandler),this._mainDivHandler=null,this._isEnable=!1)},n.prototype.destroy=function(){this.disable()},n}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(5),n(6)],r=function(t,e){"use strict";function n(t,e){this._mainDiv=t,this._screenManager=e,this._elements={},this._elementsBySide={}}return t.inherite(n,e),n.prototype.configure=function(t){"object"==typeof t&&(void 0!==t.loadingHtml&&(this._loadingHtml=t.loadingHtml),void 0!==t.saveHistoryInPool&&(this._saveHistoryInPool=t.saveHistoryInPool))},n.prototype.prepareSide=function(){function t(t){return i._screenManager._getRelativeScreenByScreen(n,t)}function e(t,e){var n,r=e.toString();i._elements.hasOwnProperty(r)?n=i._elements[r].element:(n=$('<div class="rb__side rb__hidden rb__loading" data-id="'+r+'">'+i._loadingHtml+"</div>"),i._mainDiv.prepend(n),i._elements[r]={element:n,screen:e,state:"loading"}),"center"===t&&(n.toggleClass("rb__center",!0),n.toggleClass("rb__hidden",!1)),i._elementsBySide[t]=r}var n=this._screenManager.getCurScreen(),i=this,r=t("left"),o=t("top"),s=t("right"),a=t("bottom");this.getElementBySide("center").toggleClass("rb__center",!1),this._mainDiv.find(".rb__side").toggleClass("rb__hidden",!0),i._elementsBySide={},n&&e("center",n),r&&e("left",r),o&&e("top",o),s&&e("right",s),a&&e("bottom",a)},n.prototype.getElementBySide=function(t){var e=this._elementsBySide[t];return e?this._elements[e].element:$()},n.prototype.loadElements=function(){var t=this;Object.keys(this._elements).forEach(function(e){var n=t._elements[e];t._elementsBySide.center===e||t._elementsBySide.left===e||t._elementsBySide.top===e||t._elementsBySide.right===e||t._elementsBySide.bottom===e?"loading"===n.state&&(n.element.html(n.screen.html),n.element.toggleClass("rb__loading",!1),n.state="loaded"):n.screen.isTemporary()&&(t._saveHistoryInPool&&t._screenManager._containsHistory(t._elements[e].screen)||(t._elements[e].element.remove(),delete t._elements[e]))})},n.prototype.destroy=function(){var t=this;Object.keys(this._elements).forEach(function(e){t._elements[e].element.remove()}),this._elements=null,this._elementsBySide=null,this._screenManager=null},n}.apply(e,i),!(void 0!==r&&(t.exports=r))}]);
//# sourceMappingURL=rb.js.map